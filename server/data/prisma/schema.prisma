generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model LocalizacaoPA {
  id               Int               @id @default(autoincrement())
  filial           String
  andar            String
  espinha          String
  pa               String
  carteira         String
  HistoricoPA      HistoricoPA[]
  RelacionamentoPA RelacionamentoPA?
}

model RelacionamentoPA {
  id              Int           @id
  localCompleto   String        @unique
  dataCriacao     DateTime      @default(now())
  dataModificacao DateTime      @updatedAt
  patrimonioMNT1  String        @default("")
  patrimonioMNT2  String        @default("")
  patrimonioPC    String
  HistoricoPA     HistoricoPA[]
  localizacaoPA   LocalizacaoPA @relation(fields: [id], references: [id])
}

model HistoricoPA {
  id                 Int              @id @default(autoincrement())
  localizacaoPAId    Int
  relacionamentoPAId Int
  localizacaoPA      LocalizacaoPA    @relation(fields: [localizacaoPAId], references: [id])
  relacionamentoPA   RelacionamentoPA @relation(fields: [relacionamentoPAId], references: [id])
  acao               String
  valorAnterior      String?
  valorNovo          String?
  dataRegistro       DateTime         @default(now())
}
